{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-4">Add a Workout</h2>

<form method="post" class="space-y-4 bg-white p-6 rounded shadow">
  {% csrf_token %}
  {{ form.exercise_name.label_tag }} {{ form.exercise_name }}
  {{ form.workout_type.label_tag }} {{ form.workout_type }}
  {{ form.duration_minutes.label_tag }} {{ form.duration_minutes }}

  <p id="distance-field">{{ form.distance.label_tag }} {{ form.distance }}</p>
  <p id="reps-field">{{ form.reps.label_tag }} {{ form.reps }}</p>
  <p id="sets-field">{{ form.sets.label_tag }} {{ form.sets }}</p>

  {{ form.calories_burned.label_tag }} {{ form.calories_burned }}
  {{ form.date.label_tag }} {{ form.date }}

  <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
    Add Workout
  </button>
</form>

<a href="{% url 'workouts_template' %}" class="mt-4 inline-block text-blue-500 hover:underline">
  ‚Üê Back to Workouts
</a>

<script>
const workoutType = document.querySelector('#id_workout_type');
const distanceField = document.querySelector('#distance-field');
const repsField = document.querySelector('#reps-field');
const setsField = document.querySelector('#sets-field');

function toggleFields() {
    const type = workoutType.value;
    if (type === 'cardio') {
        distanceField.style.display = 'block';
        repsField.style.display = 'none';
        setsField.style.display = 'none';
    } else {
        distanceField.style.display = 'none';
        repsField.style.display = 'block';
        setsField.style.display = 'block';
    }
}

workoutType.addEventListener('change', toggleFields);
toggleFields(); // Initialize on page load
</script>
{% endblock %}
